<section id="projects" class="py-20 bg-primary text-primary px-6">
  <div class="max-w-6xl mx-auto">
    <h2 class="text-4xl heading mb-12 text-center">Proyectos</h2>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">

      <div
        *ngFor="let project of projects"
        class="project-card group"
        (mousemove)="onTilt($event, project.id)"
        (mouseleave)="resetTilt(project.id)"
        (touchstart)="onTouchStart($event)"
        (touchmove)="onTouchTilt($event, project.id)"
        (touchend)="onTouchEnd(project.id)"
        (click)="goToDetail(project.id)"
      >

        <!-- CONTENEDOR INTERNO QUE ROTA -->
        <div
          class="project-tilt rounded-xl overflow-hidden cursor-pointer bg-[#0d0f18] border border-slate-700/40 transition-all duration-300"
          [ngStyle]="getTiltStyle(project.id)"
        >

          <a [routerLink]="['/projects', project.id]" class="block relative h-full">

            <!-- IMAGEN -->
            <div class="overflow-hidden h-48 relative">
              <img
                [src]="project.image"
                [alt]="project.title"
                class="project-img w-full h-full object-cover"
              />
            </div>

            <!-- TECNOLOGÍAS -->
            <div class="tech-box absolute top-4 left-4 flex gap-3 z-20">
              <img
                *ngFor="let tech of project.tech; let t = index"
                [src]="'assets/icons/' + tech + '.svg'"
                alt="tech icon"
                class="tech-icon"
                [style]="{ 'animation-delay': (t * 120) + 'ms' }"
              />
            </div>

            <!-- DESCRIPCIÓN EN HOVER -->
            <div class="project-desc absolute inset-0 flex items-end p-6">
              <p class="text-secondary text-sm leading-relaxed">
                {{ project.description }}
              </p>
            </div>

            <!-- TÍTULO -->
            <div class="p-6 relative z-20">
              <h3 class="text-2xl font-bold text-accent-blue drop-shadow-md project-title">
                {{ project.title }}
              </h3>
            </div>

          </a>

        </div> <!-- /project-tilt -->

      </div> <!-- /project-card -->

    </div>
  </div>
</section>
